# ğŸ¯ Match ×™×—×™×“ ×¤×¢×™×œ â€“ ××¤×œ×™×§×¦×™×™×ª ×”×™×›×¨×•×™×•×ª ××‘×•×¡×¡×ª ×©×™×—×•×ª ×§×•×œ/×•×™×“××•

[![GitHub](https://img.shields.io/badge/ğŸ“-GitHub%20Repo-blue?logo=github)](https://github.com/Zevik/Dating-app-09.04)

×‘×¨×•×š ×”×‘× ×œ×¤×¨×•×™×§×˜ ×”××¤×œ×™×§×¦×™×” ×”×—×“×©× ×™×ª ×©×œ× ×•!  
×”××˜×¨×”: ×œ×‘× ×•×ª ××¤×œ×™×§×¦×™×™×ª ×”×™×›×¨×•×™×•×ª ×©×××•×§×“×ª ×‘×§×©×¨ ××—×“ ×‘×›×œ ×¨×’×¢, ×ª×•×š ×©×™××•×© ×‘×©×™×—×•×ª ×§×•×œ×™×•×ª ×•/××• ×•×™×“××• ×¢× ××’×‘×œ×•×ª ×–××Ÿ â€“ **×‘×œ×™ ×”×•×“×¢×•×ª ×˜×§×¡×˜, ×‘×œ×™ ×¨×™×‘×•×™ Matches**.

---

## ğŸ§­ × ×™×•×•×˜ ××”×™×¨

| ×§×•×‘×¥ | ×ª×™××•×¨ |
|------|--------|
| [`description.md`](./description.md) | ××¤×™×•×Ÿ ×—×•×•×™×™×ª ××©×ª××©, ×–×¨×™××•×ª, ×§×•× ×¡×¤×˜×™× ×¢×¡×§×™×™× ×•×˜×›× ×™×™×. |
| [`backend_specification.md`](./backend_specification.md) | ××¤×¨×˜ ×˜×›× ×™ ××œ× ×©×œ ×¦×“ ×”×©×¨×ª â€“ API, WebSockets, WebRTC, ××‘×˜×—×”, ×‘×“×™×§×•×ª ×•×¡×§×œ××‘×™×œ×™×•×ª. |
| [`schema.md`](./schema.md) | ×”× ×—×™×•×ª ×¢×‘×•×“×” ×œ××¤×ª×—×™× ×¢× Prisma ×•-TypeScript ×›×“×™ ×œ×”×‘×˜×™×— ×ª××™××•×ª ×œ×¡×›××•×ª. |
| [`steps.md`](./steps.md) | ××ª×•×“×•×œ×•×’×™×™×ª ×¤×™×ª×•×— ××™×˜×¨×˜×™×‘×™×ª â€“ ×©×œ×‘ ××—×¨×™ ×©×œ×‘, ×›×•×œ×œ ×‘×“×™×§×•×ª ×•××™×©×•×¨×™×. |
| [`SETUP_ENV.md`](./SETUP_ENV.md) | ×”×¡×‘×¨ ××œ× ×¢×œ ××©×ª× ×™ ×¡×‘×™×‘×” ×•×‘×“×™×§×ª ENV ××•×˜×•××˜×™×ª. |
| [`example.env`](./example.env) | ×ª×‘× ×™×ª ××©×ª× ×™ ×¡×‘×™×‘×” ×œ×“×•×’××” ×œ×™×¦×™×¨×ª `.env.local`. |

---

## ğŸ—ï¸ ×©×œ×‘×™ ×¤×™×ª×•×—

×”×¤×¨×•×™×§×˜ × ×‘× ×” ×‘×¦×¢×“×™× ×§×˜× ×™×, ×¢× ×¤×™×“×‘×§ ×‘×›×œ ×©×œ×‘:

1. ×™×¦×™×¨×ª ×¤×¨×•×™×§×˜ Node.js ×‘×¡×™×¡×™
2. ×”×ª×§× ×ª ×ª×œ×•×™×•×ª ×—×™×•× ×™×•×ª
3. ×”×’×“×¨×ª ×¡×‘×™×‘×ª ×¢×‘×•×“×” (Jest, ESLint, .env)
4. ×”×§××ª API ×‘×¡×™×¡×™
5. ×—×™×‘×•×¨ ×œ××¡×“ ×”× ×ª×•× ×™×
6. ×™×¦×™×¨×ª ×˜×‘×œ×ª Users ×•Ö¾Auth API
7. ×¤×™×ª×•×— ×©×™×—×•×ª WebRTC
8. × ×™×”×•×œ Matches ×¢× ××’×‘×œ×ª ×–××Ÿ
9. × ×™×”×•×œ ×“×™×•×•×—×™×, ×—×¡×™××•×ª, ×•×”×ª×¨××•×ª
10. ×‘×“×™×§×•×ª ×¢×•××¡, ×¡×§×œ××‘×™×œ×™×•×ª, ×•×“×™×¤×œ×•×™

> ×œ×¤×¨×˜×™× ××œ××™× â€“ ×¨××” [`steps.md`](./steps.md)

---

## ğŸ› ï¸ ×˜×›× ×•×œ×•×’×™×•×ª ×¢×™×§×¨×™×•×ª

- **Backend**: Node.js, Express.js, TypeScript
- **DB**: PostgreSQL + Prisma
- **WebSockets**: Socket.IO
- **×©×™×—×•×ª**: WebRTC + STUN/TURN
- **Cache**: Redis
- **Storage**: S3-compatible
- **Testing**: Jest, Playwright, k6

---

## âš™ï¸ ×”×¤×¢×œ×ª ×”×¤×¨×•×™×§×˜

×œ×¤× ×™ ×”×”×¤×¢×œ×”, ×•×“× ×©×§×•×‘×¥ `.env.local` ×§×™×™× ×‘×ª×™×§×™×™×” ×”×¨××©×™×ª.

× ×™×ª×Ÿ ×œ×”×™×¢×–×¨ ×‘Ö¾[`example.env`](./example.env) ××• ×œ×§×¨×•× ××ª [`SETUP_ENV.md`](./SETUP_ENV.md) ×œ×”×¡×‘×¨×™× ××¤×•×¨×˜×™× ×•×‘×“×™×§×ª ×ª×§×™× ×•×ª ××•×˜×•××˜×™×ª ×©×œ ××©×ª× ×™×.

×œ×”×¨×¦×” ×¨××©×•× ×™×ª:

```bash
cp example.env .env.local
npm install
npm run dev
```

## Stage 3 - Admin API for Statistics and Basic Dashboard

Stage 3 has been completed with the following components:

### Backend
- Admin API endpoint for statistics at `/api/v1/admin/stats` 
- Implemented admin service with Prisma queries to fetch:
  - Total users count
  - Active users count
  - Total matches count
  - Total reports count
  - Reports grouped by status
  - New users in the last 7 days
  - New reports in the last 7 days

### Frontend
- Admin dashboard page with statistics display
- UI cards showing each metric with appropriate visualizations
- API integration using Axios to fetch data from the backend

### Testing
- Added automated tests for admin stats API
- Test ensures API returns expected statistics format

### Security
- All admin routes are protected with authentication middleware
- Added admin role check to restrict access to admin features

### Usage
1. Run backend: `npm run dev`
2. Run admin dashboard: `cd admin-dashboard/admin-ui && npm run dev`
3. Login with admin credentials
4. View statistics on the dashboard

## Stage 4 - Reports Management API and Admin Interface

Stage 4 has been completed with the following components:

### Backend
- Admin API endpoints for managing reports:
  - GET `/api/v1/admin/reports` - Fetch all reports with reporter/reported user details
  - POST `/api/v1/admin/reports/:id/status` - Update report status
  - PATCH `/api/v1/admin/reports/:id` - Alternative endpoint for status updates
- Report status options: pending, reviewed, resolved, rejected

### Frontend
- Enhanced admin reports management page with:
  - Reports table with detailed information
  - User avatars and profile information
  - Status indicators with color coding
  - Action buttons for each status change option
  - Tooltip for long report content

### Security
- All report management APIs protected with authentication and admin-only access
- Validation of report status values

### Testing
- Added automated tests for report management APIs
- Tests verify access control and data manipulation

### Usage
1. Login to the admin dashboard
2. Navigate to the Reports page
3. View detailed information about each report
4. Change report status with action buttons
